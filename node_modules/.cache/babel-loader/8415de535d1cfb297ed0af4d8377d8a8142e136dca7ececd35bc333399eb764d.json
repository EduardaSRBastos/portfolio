{"ast":null,"code":"import { getByText } from './get-by-text.mjs';\nfunction getByTypeaheadImpl(_items, options) {\n  var state = options.state,\n    activeId = options.activeId,\n    key = options.key,\n    _options$timeout = options.timeout,\n    timeout = _options$timeout === void 0 ? 350 : _options$timeout;\n  var search = state.keysSoFar + key;\n  var isRepeated = search.length > 1 && Array.from(search).every(function (char) {\n    return char === search[0];\n  });\n  var query = isRepeated ? search[0] : search;\n  var items = _items.slice();\n  var next = getByText(items, query, activeId);\n  function cleanup() {\n    clearTimeout(state.timer);\n    state.timer = -1;\n  }\n  function update(value) {\n    state.keysSoFar = value;\n    cleanup();\n    if (value !== \"\") {\n      state.timer = +setTimeout(function () {\n        update(\"\");\n        cleanup();\n      }, timeout);\n    }\n  }\n  update(search);\n  return next;\n}\nvar getByTypeahead = /* @__PURE__ */Object.assign(getByTypeaheadImpl, {\n  defaultOptions: {\n    keysSoFar: \"\",\n    timer: -1\n  },\n  isValidEvent: isValidTypeaheadEvent\n});\nfunction isValidTypeaheadEvent(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\nexport { getByTypeahead };","map":{"version":3,"names":["getByText","getByTypeaheadImpl","_items","options","state","activeId","key","timeout","search","keysSoFar","isRepeated","length","Array","from","every","char","query","items","slice","next","cleanup","clearTimeout","timer","update","value","setTimeout","getByTypeahead","Object","assign","defaultOptions","isValidEvent","isValidTypeaheadEvent","event","ctrlKey","metaKey"],"sources":["D:/portfolio/node_modules/@zag-js/dom-query/dist/get-by-typeahead.mjs"],"sourcesContent":["import { getByText } from './get-by-text.mjs';\n\nfunction getByTypeaheadImpl(_items, options) {\n  const { state, activeId, key, timeout = 350 } = options;\n  const search = state.keysSoFar + key;\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const query = isRepeated ? search[0] : search;\n  let items = _items.slice();\n  const next = getByText(items, query, activeId);\n  function cleanup() {\n    clearTimeout(state.timer);\n    state.timer = -1;\n  }\n  function update(value) {\n    state.keysSoFar = value;\n    cleanup();\n    if (value !== \"\") {\n      state.timer = +setTimeout(() => {\n        update(\"\");\n        cleanup();\n      }, timeout);\n    }\n  }\n  update(search);\n  return next;\n}\nconst getByTypeahead = /* @__PURE__ */ Object.assign(getByTypeaheadImpl, {\n  defaultOptions: { keysSoFar: \"\", timer: -1 },\n  isValidEvent: isValidTypeaheadEvent\n});\nfunction isValidTypeaheadEvent(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\n\nexport { getByTypeahead };\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,mBAAmB;AAE7C,SAASC,kBAAkB,CAACC,MAAM,EAAEC,OAAO,EAAE;EAC3C,IAAQC,KAAK,GAAmCD,OAAO,CAA/CC,KAAK;IAAEC,QAAQ,GAAyBF,OAAO,CAAxCE,QAAQ;IAAEC,GAAG,GAAoBH,OAAO,CAA9BG,GAAG;IAAA,mBAAoBH,OAAO,CAAzBI,OAAO;IAAPA,OAAO,iCAAG,GAAG;EAC3C,IAAMC,MAAM,GAAGJ,KAAK,CAACK,SAAS,GAAGH,GAAG;EACpC,IAAMI,UAAU,GAAGF,MAAM,CAACG,MAAM,GAAG,CAAC,IAAIC,KAAK,CAACC,IAAI,CAACL,MAAM,CAAC,CAACM,KAAK,CAAC,UAACC,IAAI;IAAA,OAAKA,IAAI,KAAKP,MAAM,CAAC,CAAC,CAAC;EAAA,EAAC;EAC9F,IAAMQ,KAAK,GAAGN,UAAU,GAAGF,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM;EAC7C,IAAIS,KAAK,GAAGf,MAAM,CAACgB,KAAK,EAAE;EAC1B,IAAMC,IAAI,GAAGnB,SAAS,CAACiB,KAAK,EAAED,KAAK,EAAEX,QAAQ,CAAC;EAC9C,SAASe,OAAO,GAAG;IACjBC,YAAY,CAACjB,KAAK,CAACkB,KAAK,CAAC;IACzBlB,KAAK,CAACkB,KAAK,GAAG,CAAC,CAAC;EAClB;EACA,SAASC,MAAM,CAACC,KAAK,EAAE;IACrBpB,KAAK,CAACK,SAAS,GAAGe,KAAK;IACvBJ,OAAO,EAAE;IACT,IAAII,KAAK,KAAK,EAAE,EAAE;MAChBpB,KAAK,CAACkB,KAAK,GAAG,CAACG,UAAU,CAAC,YAAM;QAC9BF,MAAM,CAAC,EAAE,CAAC;QACVH,OAAO,EAAE;MACX,CAAC,EAAEb,OAAO,CAAC;IACb;EACF;EACAgB,MAAM,CAACf,MAAM,CAAC;EACd,OAAOW,IAAI;AACb;AACA,IAAMO,cAAc,GAAG,eAAgBC,MAAM,CAACC,MAAM,CAAC3B,kBAAkB,EAAE;EACvE4B,cAAc,EAAE;IAAEpB,SAAS,EAAE,EAAE;IAAEa,KAAK,EAAE,CAAC;EAAE,CAAC;EAC5CQ,YAAY,EAAEC;AAChB,CAAC,CAAC;AACF,SAASA,qBAAqB,CAACC,KAAK,EAAE;EACpC,OAAOA,KAAK,CAAC1B,GAAG,CAACK,MAAM,KAAK,CAAC,IAAI,CAACqB,KAAK,CAACC,OAAO,IAAI,CAACD,KAAK,CAACE,OAAO;AACnE;AAEA,SAASR,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}